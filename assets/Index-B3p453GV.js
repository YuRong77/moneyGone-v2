import{Q as I,d as C,k as A,n as u,q as B,w,s as h,O as U,v as y,N as D,u as s,R as v,D as l,S as E,a as m,T as H,o as N,H as x,b as T,G as f,x as $,U as k,I as O,C as P,V as q,F as M,K as L}from"./index-3c3eskIB.js";import{_ as Y}from"./Header-BnsEWEck.js";import{_ as z}from"./DatePicker-eUPNyXsJ.js";import{p as G}from"./priceFormat-DV0X-7kS.js";import{r as K}from"./right-CL97vDr6.js";function Q(c){const e=I(c),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function j(c){const e=I(c);return e.setDate(1),e.setHours(0,0,0,0),e}const J=l("div",null,null,-1),W=C({__name:"RecordDetail",props:{isVisible:Boolean,rowDetails:{type:Array,required:!0}},emits:["update:isVisible"],setup(c,{emit:e}){const r=c,p=e,a=A({get:()=>r.isVisible,set:i=>p("update:isVisible",i)});return(i,_)=>{const V=E;return u(),B(V,{modelValue:s(a),"onUpdate:modelValue":_[0]||(_[0]=n=>v(a)?a.value=n:null),title:"Tips",width:"90%"},{footer:w(()=>[J]),default:w(()=>[(u(!0),h(D,null,U(r.rowDetails,n=>(u(),h("div",{key:n.id},y(n.name)+" "+y(n.amount),1))),128))]),_:1},8,["modelValue"])}}}),X="data:image/svg+xml,%3csvg%20width='100'%20height='100'%20viewBox='0%200%202%202'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%3e%3cpath%20fill='currentColor'%20fill-rule='evenodd'%20d='M.906.25a.656.656%200%201%200%20.393%201.182l.291.291a.094.094%200%201%200%20.133-.133l-.291-.291A.656.656%200%200%200%20.906.25M.438.906a.469.469%200%201%201%20.938%200%20.469.469%200%200%201-.938%200'%20clip-rule='evenodd'/%3e%3c/svg%3e",Z={class:"content"},ee=["onClick"],te={class:"info"},oe={class:"date"},se={class:"amount"},ae=C({__name:"Index",setup(c){let e=m(new Date);const r=m([]);let p=m(null),a=m(!1),i=m("");H(e,()=>{n()},{immediate:!0});function _(d){return d.details.reduce((o,g)=>g.amount>o.amount?g:o,d.details[0])}function V(d){p.value=d,a.value=!0}function n(){const d={startDate:k(j(e.value),"yyyy-MM-dd"),endDate:k(Q(e.value),"yyyy-MM-dd")};O.transactionTotalList(d).then(o=>{r.value=o})}return N(()=>{x.on("refresh",n)}),T(()=>{x.off("refresh")}),(d,o)=>{const g=z,R=Y,b=P("inline-svg"),S=q,F=W;return u(),h(D,null,[f(R,{title:"Record"},{right:w(()=>[f(g,{date:s(e),"onUpdate:date":o[0]||(o[0]=t=>v(e)?e.value=t:e=t),type:"month"},null,8,["date"])]),_:1}),l("div",Z,[f(S,{class:"search cardShadow mb-5",modelValue:s(i),"onUpdate:modelValue":o[1]||(o[1]=t=>v(i)?i.value=t:i=t),placeholder:"Please Input"},{prefix:w(()=>[f(b,{src:s(X),height:"18",width:"18"},null,8,["src"])]),_:1},8,["modelValue"]),(u(!0),h(D,null,U(s(r),t=>(u(),h("div",{class:"totalItem cardShadow",key:t.date,onClick:ne=>V(t.details)},[l("div",te,[l("div",{class:"iconBox",style:M({background:`${_(t).categoryColor}`})},[l("div",{class:"icon",style:M({backgroundImage:`url(${_(t).imageUrl})`})},null,4)],4),l("div",null,[l("div",oe,y(t.date),1),l("div",se,"$ "+y(s(G)(t.totalAmount)),1)])]),f(b,{src:s(K),color:"#ababab",height:"18",width:"18"},null,8,["src"])],8,ee))),128))]),s(p)?(u(),B(F,{key:0,isVisible:s(a),"onUpdate:isVisible":o[2]||(o[2]=t=>v(a)?a.value=t:a=t),rowDetails:s(p)},null,8,["isVisible","rowDetails"])):$("",!0)],64)}}}),ce=L(ae,[["__scopeId","data-v-0869f9ee"]]);export{ce as default};
