import{d as B,h as R,l as u,m as C,w,n as h,L as I,t as y,K as D,u as s,N as v,B as l,O as S,a as _,P as H,o as N,E as x,b as P,D as f,s as $,F as L,A as O,Q as T,C as M,H as Y}from"./index-COjJf4me.js";import{_ as q}from"./Header-BQsj9FO7.js";import{t as U,f as k,_ as z}from"./DatePicker-DgiOedSh.js";import{p as K}from"./priceFormat-DV0X-7kS.js";import{r as Q}from"./right-BPuBK2aU.js";/* empty css                  */const j=l("div",null,null,-1),G=B({__name:"RecordDetail",props:{isVisible:Boolean,rowDetails:{type:Array,required:!0}},emits:["update:isVisible"],setup(c,{emit:e}){const r=c,m=e,a=R({get:()=>r.isVisible,set:i=>m("update:isVisible",i)});return(i,p)=>{const V=S;return u(),C(V,{modelValue:s(a),"onUpdate:modelValue":p[0]||(p[0]=n=>v(a)?a.value=n:null),title:"Tips",width:"90%"},{footer:w(()=>[j]),default:w(()=>[(u(!0),h(D,null,I(r.rowDetails,n=>(u(),h("div",{key:n.id},y(n.name)+" "+y(n.amount),1))),128))]),_:1},8,["modelValue"])}}});function J(c){const e=U(c),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function W(c){const e=U(c);return e.setDate(1),e.setHours(0,0,0,0),e}const X="data:image/svg+xml,%3csvg%20width='100'%20height='100'%20viewBox='0%200%202%202'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%3e%3cpath%20fill='currentColor'%20fill-rule='evenodd'%20d='M.906.25a.656.656%200%201%200%20.393%201.182l.291.291a.094.094%200%201%200%20.133-.133l-.291-.291A.656.656%200%200%200%20.906.25M.438.906a.469.469%200%201%201%20.938%200%20.469.469%200%200%201-.938%200'%20clip-rule='evenodd'/%3e%3c/svg%3e",Z={class:"content"},ee=["onClick"],te={class:"info"},oe={class:"date"},se={class:"amount"},ae=B({__name:"Index",setup(c){let e=_(new Date);const r=_([]);let m=_(null),a=_(!1),i=_("");H(e,()=>{n()},{immediate:!0});function p(d){return d.details.reduce((o,g)=>g.amount>o.amount?g:o,d.details[0])}function V(d){m.value=d,a.value=!0}function n(){const d={startDate:k(W(e.value),"yyyy-MM-dd"),endDate:k(J(e.value),"yyyy-MM-dd")};L.transactionTotalList(d).then(o=>{r.value=o})}return N(()=>{x.on("refresh",n)}),P(()=>{x.off("refresh")}),(d,o)=>{const g=z,A=q,b=O("inline-svg"),E=T,F=G;return u(),h(D,null,[f(A,{title:"Record"},{right:w(()=>[f(g,{date:s(e),"onUpdate:date":o[0]||(o[0]=t=>v(e)?e.value=t:e=t),type:"month"},null,8,["date"])]),_:1}),l("div",Z,[f(E,{class:"search cardShadow mb-5",modelValue:s(i),"onUpdate:modelValue":o[1]||(o[1]=t=>v(i)?i.value=t:i=t),placeholder:"Please Input"},{prefix:w(()=>[f(b,{src:s(X),height:"18",width:"18"},null,8,["src"])]),_:1},8,["modelValue"]),(u(!0),h(D,null,I(s(r),t=>(u(),h("div",{class:"totalItem cardShadow",key:t.date,onClick:ne=>V(t.details)},[l("div",te,[l("div",{class:"iconBox",style:M({background:`${p(t).categoryColor}`})},[l("div",{class:"icon",style:M({backgroundImage:`url(${p(t).imageUrl})`})},null,4)],4),l("div",null,[l("div",oe,y(t.date),1),l("div",se,"$ "+y(s(K)(t.totalAmount)),1)])]),f(b,{src:s(Q),color:"#ababab",height:"18",width:"18"},null,8,["src"])],8,ee))),128))]),s(m)?(u(),C(F,{key:0,isVisible:s(a),"onUpdate:isVisible":o[2]||(o[2]=t=>v(a)?a.value=t:a=t),rowDetails:s(m)},null,8,["isVisible","rowDetails"])):$("",!0)],64)}}}),me=Y(ae,[["__scopeId","data-v-0869f9ee"]]);export{me as default};
