import{d as I,h as E,l as u,m as B,w,q as h,am as C,t as y,al as b,u as a,ao as v,J as l,ap as F,a as _,Y as P,o as $,ag as x,b as H,a3 as f,v as N,ah as T,a1 as Y,P as q,K as M,ai as L}from"./index-BbzcA3uL.js";import{_ as O}from"./Header-BUkIDTF1.js";import{t as U,f as k,_ as z}from"./DatePicker-BTGr1LAS.js";import{p as J}from"./priceFormat-DV0X-7kS.js";import{r as K}from"./right-BVvKSUIh.js";import"./el-popper-BLi1ZJPD.js";const j=l("div",null,null,-1),G=I({__name:"RecordDetail",props:{isVisible:Boolean,rowDetails:{type:Array,required:!0}},emits:["update:isVisible"],setup(c,{emit:e}){const r=c,m=e,s=E({get:()=>r.isVisible,set:i=>m("update:isVisible",i)});return(i,p)=>{const V=F;return u(),B(V,{modelValue:a(s),"onUpdate:modelValue":p[0]||(p[0]=n=>v(s)?s.value=n:null),title:"Tips",width:"90%"},{footer:w(()=>[j]),default:w(()=>[(u(!0),h(b,null,C(r.rowDetails,n=>(u(),h("div",{key:n.id},y(n.name)+" "+y(n.amount),1))),128))]),_:1},8,["modelValue"])}}});function Q(c){const e=U(c),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function W(c){const e=U(c);return e.setDate(1),e.setHours(0,0,0,0),e}const X="data:image/svg+xml,%3csvg%20width='100'%20height='100'%20viewBox='0%200%202%202'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%3e%3cpath%20fill='currentColor'%20fill-rule='evenodd'%20d='M.906.25a.656.656%200%201%200%20.393%201.182l.291.291a.094.094%200%201%200%20.133-.133l-.291-.291A.656.656%200%200%200%20.906.25M.438.906a.469.469%200%201%201%20.938%200%20.469.469%200%200%201-.938%200'%20clip-rule='evenodd'/%3e%3c/svg%3e",Z={class:"content"},ee=["onClick"],te={class:"info"},oe={class:"date"},ae={class:"amount"},se=I({__name:"Index",setup(c){let e=_(new Date);const r=_([]);let m=_(null),s=_(!1),i=_("");P(e,()=>{n()},{immediate:!0});function p(d){return d.details.reduce((o,g)=>g.amount>o.amount?g:o,d.details[0])}function V(d){m.value=d,s.value=!0}function n(){const d={startDate:k(W(e.value),"yyyy-MM-dd"),endDate:k(Q(e.value),"yyyy-MM-dd")};T.transactionTotalList(d).then(o=>{r.value=o})}return $(()=>{x.on("refresh",n)}),H(()=>{x.off("refresh")}),(d,o)=>{const g=z,R=O,D=Y("inline-svg"),S=q,A=G;return u(),h(b,null,[f(R,{title:"Record"},{right:w(()=>[f(g,{date:a(e),"onUpdate:date":o[0]||(o[0]=t=>v(e)?e.value=t:e=t),type:"month"},null,8,["date"])]),_:1}),l("div",Z,[f(S,{class:"search cardShadow mb-5",modelValue:a(i),"onUpdate:modelValue":o[1]||(o[1]=t=>v(i)?i.value=t:i=t),placeholder:"Please Input"},{prefix:w(()=>[f(D,{src:a(X),height:"18",width:"18"},null,8,["src"])]),_:1},8,["modelValue"]),(u(!0),h(b,null,C(a(r),t=>(u(),h("div",{class:"totalItem cardShadow",key:t.date,onClick:ne=>V(t.details)},[l("div",te,[l("div",{class:"iconBox",style:M({background:`${p(t).categoryColor}`})},[l("div",{class:"icon",style:M({backgroundImage:`url(${p(t).imageUrl})`})},null,4)],4),l("div",null,[l("div",oe,y(t.date),1),l("div",ae,"$ "+y(a(J)(t.totalAmount)),1)])]),f(D,{src:a(K),color:"#ababab",height:"18",width:"18"},null,8,["src"])],8,ee))),128))]),a(m)?(u(),B(A,{key:0,isVisible:a(s),"onUpdate:isVisible":o[2]||(o[2]=t=>v(s)?s.value=t:s=t),rowDetails:a(m)},null,8,["isVisible","rowDetails"])):N("",!0)],64)}}}),me=L(se,[["__scopeId","data-v-0869f9ee"]]);export{me as default};
