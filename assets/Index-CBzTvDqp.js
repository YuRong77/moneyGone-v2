import{d as x,h as A,l as d,m as M,w as g,q as p,al as k,t as w,ak as V,u as s,ap as v,J as l,aq as P,a as m,Y as q,o as E,ah as D,b as F,a3 as _,v as H,ai as N,a1 as S,P as Y,K as L,ag as O,aj as T}from"./index-FcS2T4S_.js";import{_ as $}from"./Header-Ts8X56gp.js";import{t as B,f as b,_ as j}from"./DatePicker-nsttDj0F.js";import{r as z}from"./right-BVvKSUIh.js";import"./el-popper-DcWLTEQ-.js";const J=l("div",null,null,-1),K=x({__name:"RecordDetail",props:{isVisible:Boolean,rowDetails:{type:Array,required:!0}},emits:["update:isVisible"],setup(u,{emit:e}){const i=u,c=e,a=A({get:()=>i.isVisible,set:r=>c("update:isVisible",r)});return(r,f)=>{const h=P;return d(),M(h,{modelValue:s(a),"onUpdate:modelValue":f[0]||(f[0]=o=>v(a)?a.value=o:null),title:"Tips",width:"90%"},{footer:g(()=>[J]),default:g(()=>[(d(!0),p(V,null,k(i.rowDetails,o=>(d(),p("div",{key:o.id},w(o.name)+" "+w(o.amount),1))),128))]),_:1},8,["modelValue"])}}});function G(u){const e=B(u),i=e.getMonth();return e.setFullYear(e.getFullYear(),i+1,0),e.setHours(23,59,59,999),e}function Q(u){const e=B(u);return e.setDate(1),e.setHours(0,0,0,0),e}const W="data:image/svg+xml,%3csvg%20width='100'%20height='100'%20viewBox='0%200%202%202'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%3e%3cpath%20fill='currentColor'%20fill-rule='evenodd'%20d='M.906.25a.656.656%200%201%200%20.393%201.182l.291.291a.094.094%200%201%200%20.133-.133l-.291-.291A.656.656%200%200%200%20.906.25M.438.906a.469.469%200%201%201%20.938%200%20.469.469%200%200%201-.938%200'%20clip-rule='evenodd'/%3e%3c/svg%3e",X={class:"content"},Z=["onClick"],ee={class:"info"},te={class:"iconBox"},oe=x({__name:"Index",setup(u){let e=m(new Date);const i=m([]);let c=m(null),a=m(!1),r=m("");q(e,()=>{h()},{immediate:!0});function f(o){c.value=o,a.value=!0}function h(){const o={startDate:b(Q(e.value),"yyyy-MM-dd"),endDate:b(G(e.value),"yyyy-MM-dd")};N.transactionTotalList(o).then(n=>{i.value=n})}return E(()=>{D.on("refresh",h)}),F(()=>{D.off("refresh")}),(o,n)=>{const I=j,C=$,y=S("inline-svg"),R=Y,U=K;return d(),p(V,null,[_(C,{title:"Record"},{right:g(()=>[_(I,{date:s(e),"onUpdate:date":n[0]||(n[0]=t=>v(e)?e.value=t:e=t),type:"month"},null,8,["date"])]),_:1}),l("div",X,[_(R,{class:"mb-3",modelValue:s(r),"onUpdate:modelValue":n[1]||(n[1]=t=>v(r)?r.value=t:r=t),placeholder:"Please Input"},{prefix:g(()=>[_(y,{src:s(W),height:"18",width:"18"},null,8,["src"])]),_:1},8,["modelValue"]),(d(!0),p(V,null,k(s(i),t=>(d(),p("div",{class:"totalItem",key:t.date,onClick:se=>f(t.details)},[l("div",ee,[l("div",te,[l("div",{class:"icon",style:L({backgroundImage:`url(${s(O)})`})},null,4)]),l("div",null,[l("div",null,w(t.date),1),l("div",null,w(t.totalAmount),1)])]),_(y,{src:s(z),height:"18",width:"18"},null,8,["src"])],8,Z))),128))]),s(c)?(d(),M(U,{key:0,isVisible:s(a),"onUpdate:isVisible":n[2]||(n[2]=t=>v(a)?a.value=t:a=t),rowDetails:s(c)},null,8,["isVisible","rowDetails"])):H("",!0)],64)}}}),de=T(oe,[["__scopeId","data-v-55f4e1e7"]]);export{de as default};
