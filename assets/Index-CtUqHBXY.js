import"./axios-DdkkPuKZ.js";import{E as U}from"./el-overlay-D9-RIwOY.js";import{d as x,c as A,o as d,a as M,w as g,m as _,n as k,t as w,F as V,u as s,i as h,b as a,r as m,j as F,k as H,q as N,e as p,v as P,l as S,E as q,_ as L}from"./index-upSzwFDU.js";/* empty css                 */import{_ as O}from"./Header-idwZ6dVH.js";import{t as B,f as D,_ as T}from"./DatePicker-B2csT_xO.js";import{t as Y,c as $}from"./cat-Arz9Hf3Y.js";import{e as b}from"./emitter-CqB60mac.js";import{r as j}from"./right-BVvKSUIh.js";import{E as z}from"./index-BRfQTG7p.js";import"./el-popper-DzbpAi2J.js";import"./_commonjsHelpers-Cpj98o6Y.js";const G=a("div",null,null,-1),J=x({__name:"RecordDetail",props:{isVisible:Boolean,rowDetails:{type:Array,required:!0}},emits:["update:isVisible"],setup(u,{emit:e}){const i=u,c=e,n=A({get:()=>i.isVisible,set:r=>c("update:isVisible",r)});return(r,f)=>{const v=U;return d(),M(v,{modelValue:s(n),"onUpdate:modelValue":f[0]||(f[0]=o=>h(n)?n.value=o:null),title:"Tips",width:"90%"},{footer:g(()=>[G]),default:g(()=>[(d(!0),_(V,null,k(i.rowDetails,o=>(d(),_("div",{key:o.id},w(o.name)+" "+w(o.amount),1))),128))]),_:1},8,["modelValue"])}}});function K(u){const e=B(u),i=e.getMonth();return e.setFullYear(e.getFullYear(),i+1,0),e.setHours(23,59,59,999),e}function Q(u){const e=B(u);return e.setDate(1),e.setHours(0,0,0,0),e}const W="data:image/svg+xml,%3csvg%20width='100'%20height='100'%20viewBox='0%200%202%202'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%3e%3cpath%20fill='currentColor'%20fill-rule='evenodd'%20d='M.906.25a.656.656%200%201%200%20.393%201.182l.291.291a.094.094%200%201%200%20.133-.133l-.291-.291A.656.656%200%200%200%20.906.25M.438.906a.469.469%200%201%201%20.938%200%20.469.469%200%200%201-.938%200'%20clip-rule='evenodd'/%3e%3c/svg%3e",X={class:"content"},Z=["onClick"],ee={class:"info"},te={class:"iconBox"},oe=x({__name:"Index",setup(u){let e=m(new Date);const i=m([]);let c=m(null),n=m(!1),r=m("");F(e,()=>{v()},{immediate:!0});function f(o){c.value=o,n.value=!0}function v(){const o={startDate:D(Q(e.value),"yyyy-MM-dd"),endDate:D(K(e.value),"yyyy-MM-dd")};Y.transactionTotalList(o).then(l=>{i.value=l})}return H(()=>{b.on("refresh",v)}),N(()=>{b.off("refresh")}),(o,l)=>{const I=T,C=O,y=S("inline-svg"),E=z,R=J;return d(),_(V,null,[p(C,{title:"Record"},{right:g(()=>[p(I,{date:s(e),"onUpdate:date":l[0]||(l[0]=t=>h(e)?e.value=t:e=t),type:"month"},null,8,["date"])]),_:1}),a("div",X,[p(E,{class:"mb-3",modelValue:s(r),"onUpdate:modelValue":l[1]||(l[1]=t=>h(r)?r.value=t:r=t),placeholder:"Please Input"},{prefix:g(()=>[p(y,{src:s(W),height:"18",width:"18"},null,8,["src"])]),_:1},8,["modelValue"]),(d(!0),_(V,null,k(s(i),t=>(d(),_("div",{class:"totalItem",key:t.date,onClick:se=>f(t.details)},[a("div",ee,[a("div",te,[a("div",{class:"icon",style:q({backgroundImage:`url(${s($)})`})},null,4)]),a("div",null,[a("div",null,w(t.date),1),a("div",null,w(t.totalAmount),1)])]),p(y,{src:s(j),height:"18",width:"18"},null,8,["src"])],8,Z))),128))]),s(c)?(d(),M(R,{key:0,isVisible:s(n),"onUpdate:isVisible":l[2]||(l[2]=t=>h(n)?n.value=t:n=t),rowDetails:s(c)},null,8,["isVisible","rowDetails"])):P("",!0)],64)}}}),ve=L(oe,[["__scopeId","data-v-55f4e1e7"]]);export{ve as default};
