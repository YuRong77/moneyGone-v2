import{d as x,h as A,l as d,m as M,w as g,q as _,am as k,t as w,al as V,u as s,ao as v,J as l,ap as P,a as m,Y as E,o as F,ag as D,b as H,a3 as p,v as L,ah as N,a1 as S,P as Y,K as q,ai as O}from"./index-H5iqYx0H.js";import{_ as T}from"./Header-Cq1yQ5gn.js";import{t as B,f as b,_ as $}from"./DatePicker-CbepJCe9.js";import{r as z}from"./right-BVvKSUIh.js";import"./el-popper-7nYnpldH.js";const J=l("div",null,null,-1),K=x({__name:"RecordDetail",props:{isVisible:Boolean,rowDetails:{type:Array,required:!0}},emits:["update:isVisible"],setup(u,{emit:e}){const i=u,c=e,n=A({get:()=>i.isVisible,set:r=>c("update:isVisible",r)});return(r,f)=>{const h=P;return d(),M(h,{modelValue:s(n),"onUpdate:modelValue":f[0]||(f[0]=o=>v(n)?n.value=o:null),title:"Tips",width:"90%"},{footer:g(()=>[J]),default:g(()=>[(d(!0),_(V,null,k(i.rowDetails,o=>(d(),_("div",{key:o.id},w(o.name)+" "+w(o.amount),1))),128))]),_:1},8,["modelValue"])}}});function j(u){const e=B(u),i=e.getMonth();return e.setFullYear(e.getFullYear(),i+1,0),e.setHours(23,59,59,999),e}function G(u){const e=B(u);return e.setDate(1),e.setHours(0,0,0,0),e}const Q=""+new URL("cat-DnfwUBBa.png",import.meta.url).href,W="data:image/svg+xml,%3csvg%20width='100'%20height='100'%20viewBox='0%200%202%202'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%3e%3cpath%20fill='currentColor'%20fill-rule='evenodd'%20d='M.906.25a.656.656%200%201%200%20.393%201.182l.291.291a.094.094%200%201%200%20.133-.133l-.291-.291A.656.656%200%200%200%20.906.25M.438.906a.469.469%200%201%201%20.938%200%20.469.469%200%200%201-.938%200'%20clip-rule='evenodd'/%3e%3c/svg%3e",X={class:"content"},Z=["onClick"],ee={class:"info"},te={class:"iconBox"},oe=x({__name:"Index",setup(u){let e=m(new Date);const i=m([]);let c=m(null),n=m(!1),r=m("");E(e,()=>{h()},{immediate:!0});function f(o){c.value=o,n.value=!0}function h(){const o={startDate:b(G(e.value),"yyyy-MM-dd"),endDate:b(j(e.value),"yyyy-MM-dd")};N.transactionTotalList(o).then(a=>{i.value=a})}return F(()=>{D.on("refresh",h)}),H(()=>{D.off("refresh")}),(o,a)=>{const I=$,C=T,y=S("inline-svg"),U=Y,R=K;return d(),_(V,null,[p(C,{title:"Record"},{right:g(()=>[p(I,{date:s(e),"onUpdate:date":a[0]||(a[0]=t=>v(e)?e.value=t:e=t),type:"month"},null,8,["date"])]),_:1}),l("div",X,[p(U,{class:"mb-3",modelValue:s(r),"onUpdate:modelValue":a[1]||(a[1]=t=>v(r)?r.value=t:r=t),placeholder:"Please Input"},{prefix:g(()=>[p(y,{src:s(W),height:"18",width:"18"},null,8,["src"])]),_:1},8,["modelValue"]),(d(!0),_(V,null,k(s(i),t=>(d(),_("div",{class:"totalItem",key:t.date,onClick:se=>f(t.details)},[l("div",ee,[l("div",te,[l("div",{class:"icon",style:q({backgroundImage:`url(${s(Q)})`})},null,4)]),l("div",null,[l("div",null,w(t.date),1),l("div",null,w(t.totalAmount),1)])]),p(y,{src:s(z),height:"18",width:"18"},null,8,["src"])],8,Z))),128))]),s(c)?(d(),M(R,{key:0,isVisible:s(n),"onUpdate:isVisible":a[2]||(a[2]=t=>v(n)?n.value=t:n=t),rowDetails:s(c)},null,8,["isVisible","rowDetails"])):L("",!0)],64)}}}),de=O(oe,[["__scopeId","data-v-55f4e1e7"]]);export{de as default};
